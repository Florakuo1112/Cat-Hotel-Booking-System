import{S as u,a as s,_ as d}from"./sweetalert2.all-9f571157.js";import{i as f}from"./navbar-a9a887c0.js";/* empty css                */const y=document.querySelector(".searchBarBtn"),r=document.querySelector("#checkIn"),e=document.querySelector("#checkOut"),i=document.querySelector("#roomType");let a=i.getAttribute("data-value");const h=document.querySelector("body"),k=document.querySelector("#catRoomInput_roomType"),v=document.querySelector("#selectType");h.addEventListener("click",l=>{l.stopPropagation(),v.classList.remove("show")});k.addEventListener("click",l=>{l.stopPropagation(),v.classList.toggle("show")});const $=document.querySelectorAll(".optionType");$.forEach(l=>{l.addEventListener("click",t=>{const o=t.target.value;i.innerHTML=`<p>${o}</p>`,i.setAttribute("data-value",o),a=o})});y.addEventListener("click",function(l){if(e.value==""||r.value==""||a=="請選擇"){u.fire({icon:"error",text:"您尚未選擇入住/退房日期或選擇房型",confirmButtonColor:"#fa863e"}),i.innerHTML='<p style="color: #ced4da">請選擇</p>';return}if(e.value<=r.value){u.fire({icon:"error",text:"退房日期需晚於入住日期",confirmButtonColor:"#fa863e"}),e.value="",r.value="",i.innerHTML='<p style="color: #ced4da">請選擇</p>';return}a=="經典房"?s.get(`${d}/roomStates?date_gte=${r.value}&date_lte=${e.value}&date_ne=${e.value}`).then(function(t){let o=t.data,n="";if(o.forEach(function(c){c.availableCount.classic<=0&&(n+=`${c.date} `)}),n!==""){u.fire({icon:"error",text:`${n}已無空房，請重新選擇`,confirmButtonColor:"#fa863e"}),e.value="",r.value="",a="",i.innerHTML='<p style="color: #ced4da">請選擇</p>';return}m()}):a=="精緻房"?s.get(`${d}/roomStates?date_gte=${r.value}&date_lte=${e.value}&date_ne=${e.value}`).then(function(t){let o=t.data,n="";if(o.forEach(function(c){c.availableCount.delicate<=0&&(n+=`${c.date} `)}),n!==""){u.fire({icon:"error",text:`${n}已無空房，請重新選擇`,confirmButtonColor:"#fa863e"}),e.value="",r.value="",a="",i.innerHTML='<p style="color: #ced4da">請選擇</p>';return}m()}):a=="豪華房"&&s.get(`${d}/roomStates?date_gte=${r.value}&date_lte=${e.value}&date_ne=${e.value}`).then(function(t){let o=t.data,n="";if(console.log(o),o.forEach(function(c){c.availableCount.luxury<=0&&(n+=`${c.date} `)}),n!==""){u.fire({icon:"error",text:`${n}已無空房，請重新選擇`,confirmButtonColor:"#fa863e"}),e.value="",r.value="",a="",i.innerHTML='<p style="color: #ced4da">請選擇</p>';return}m()})});function m(){let l=[],t={};t.checkIn=r.value,t.checkOut=e.value,t.roomType=a,l.push(t);let o=JSON.stringify(l);sessionStorage.setItem("indexBooking",o),a=="經典房"&&f("./bookingClassicProcess_1.html"),a=="精緻房"&&f("./bookingDelicateProcess_1.html"),a=="豪華房"&&f("./bookingLuxProcess_1.html")}let p=new Date,_=p.getFullYear(),g=`${_}-${p.getMonth()+1}-${p.getDate()}`;flatpickr("#checkIn",{enableTime:!1,dateFormat:"Y-m-d",minDate:g});flatpickr("#checkOut",{enableTime:!1,dateFormat:"Y-m-d",minDate:g});
